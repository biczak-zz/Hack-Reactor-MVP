'use strict';

var express = require('express');
var app = express();
var path = require('path');
var bodyParser = require('body-parser');
var MongoClient = require('mongodb').MongoClient;
var db;
var Team = require('./config.js');
//Establish Connection
MongoClient.connect('mongodb://demo:demo@ds113871.mlab.com:13871/mvp', function (err, database) {
  if (err) throw err;else {
    db = database;
    console.log('Connected to MongoDB');
    //Start app only after connection is ready
    app.listen(3000);
  }
});

app.use(bodyParser.json());

app.get('/', function (req, res) {
  res.sendFile(path.join(__dirname, '../'));
});

app.post('/', function (req, res) {
  // Insert JSON straight into MongoDB
  db.collection('team').insert(req.body, function (err, result) {
    if (err) res.send('Error');else res.send('Success');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NlcnZlci9tb25nb29zZS1zZXJ2ZXIuanMiXSwibmFtZXMiOlsiZXhwcmVzcyIsInJlcXVpcmUiLCJhcHAiLCJwYXRoIiwiYm9keVBhcnNlciIsIk1vbmdvQ2xpZW50IiwiZGIiLCJUZWFtIiwiY29ubmVjdCIsImVyciIsImRhdGFiYXNlIiwiY29uc29sZSIsImxvZyIsImxpc3RlbiIsInVzZSIsImpzb24iLCJnZXQiLCJyZXEiLCJyZXMiLCJzZW5kRmlsZSIsImpvaW4iLCJfX2Rpcm5hbWUiLCJwb3N0IiwiY29sbGVjdGlvbiIsImluc2VydCIsImJvZHkiLCJyZXN1bHQiLCJzZW5kIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFVBQVVDLFFBQVEsU0FBUixDQUFkO0FBQ0EsSUFBSUMsTUFBTUYsU0FBVjtBQUNBLElBQUlHLE9BQU9GLFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSUcsYUFBYUgsUUFBUSxhQUFSLENBQWpCO0FBQ0EsSUFBSUksY0FBY0osUUFBUSxTQUFSLEVBQW1CSSxXQUFyQztBQUNBLElBQUlDLEVBQUo7QUFDQSxJQUFJQyxPQUFPTixRQUFRLGFBQVIsQ0FBWDtBQUNBO0FBQ0FJLFlBQVlHLE9BQVosQ0FBb0IsaURBQXBCLEVBQXVFLFVBQVVDLEdBQVYsRUFBZUMsUUFBZixFQUF5QjtBQUM3RixNQUFJRCxHQUFKLEVBQ0MsTUFBTUEsR0FBTixDQURELEtBR0E7QUFDRkgsU0FBS0ksUUFBTDtBQUNBQyxZQUFRQyxHQUFSLENBQVksc0JBQVo7QUFDQTtBQUNBVixRQUFJVyxNQUFKLENBQVcsSUFBWDtBQUNHO0FBQ0YsQ0FWRjs7QUFZQVgsSUFBSVksR0FBSixDQUFRVixXQUFXVyxJQUFYLEVBQVI7O0FBRUFiLElBQUljLEdBQUosQ0FBUSxHQUFSLEVBQWEsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBQzlCQSxNQUFJQyxRQUFKLENBQWFoQixLQUFLaUIsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLEtBQXJCLENBQWI7QUFDRCxDQUZEOztBQUlBbkIsSUFBSW9CLElBQUosQ0FBUyxHQUFULEVBQWMsVUFBU0wsR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBQzlCO0FBQ0RaLEtBQUdpQixVQUFILENBQWMsTUFBZCxFQUFzQkMsTUFBdEIsQ0FBNkJQLElBQUlRLElBQWpDLEVBQXVDLFVBQVVoQixHQUFWLEVBQWVpQixNQUFmLEVBQXVCO0FBQzFELFFBQUlqQixHQUFKLEVBQ0dTLElBQUlTLElBQUosQ0FBUyxPQUFULEVBREgsS0FHRVQsSUFBSVMsSUFBSixDQUFTLFNBQVQ7QUFFTCxHQU5EO0FBT0QsQ0FURCIsImZpbGUiOiJtb25nb29zZS1zZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbnZhciBhcHAgPSBleHByZXNzKCk7XG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbnZhciBib2R5UGFyc2VyID0gcmVxdWlyZSgnYm9keS1wYXJzZXInKTtcbnZhciBNb25nb0NsaWVudCA9IHJlcXVpcmUoJ21vbmdvZGInKS5Nb25nb0NsaWVudFxudmFyIGRiO1xudmFyIFRlYW0gPSByZXF1aXJlKCcuL2NvbmZpZy5qcycpO1xuLy9Fc3RhYmxpc2ggQ29ubmVjdGlvblxuTW9uZ29DbGllbnQuY29ubmVjdCgnbW9uZ29kYjovL2RlbW86ZGVtb0BkczExMzg3MS5tbGFiLmNvbToxMzg3MS9tdnAnLCBmdW5jdGlvbiAoZXJyLCBkYXRhYmFzZSkge1xuICAgaWYgKGVycilcbiAgIFx0dGhyb3cgZXJyXG4gICBlbHNlXG4gICB7XG5cdGRiID0gZGF0YWJhc2U7XG5cdGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gTW9uZ29EQicpO1xuXHQvL1N0YXJ0IGFwcCBvbmx5IGFmdGVyIGNvbm5lY3Rpb24gaXMgcmVhZHlcblx0YXBwLmxpc3RlbigzMDAwKTtcbiAgIH1cbiB9KTtcblxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSlcblxuYXBwLmdldCgnLycsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gIHJlcy5zZW5kRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCAnLi4vJykpO1xufSk7XG5cbmFwcC5wb3N0KCcvJywgZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgIC8vIEluc2VydCBKU09OIHN0cmFpZ2h0IGludG8gTW9uZ29EQlxuICBkYi5jb2xsZWN0aW9uKCd0ZWFtJykuaW5zZXJ0KHJlcS5ib2R5LCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgIGlmIChlcnIpXG4gICAgICAgICByZXMuc2VuZCgnRXJyb3InKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVzLnNlbmQoJ1N1Y2Nlc3MnKTtcblxuICB9KTtcbn0pO1xuIl19